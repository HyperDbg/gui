# this is the build file for project 
# it is autogenerated by the xmake build system.
# do not edit by hand.

# project
cmake_minimum_required(VERSION 3.15.0)
cmake_policy(SET CMP0091 NEW)
project(hprdbghv LANGUAGES ASM C CXX)

# target
add_executable(hprdbghv "")
set_target_properties(hprdbghv PROPERTIES OUTPUT_NAME "hprdbghv")
set_target_properties(hprdbghv PROPERTIES RUNTIME_OUTPUT_DIRECTORY "${CMAKE_SOURCE_DIR}/build/windows/x64/debug")
add_dependencies(hprdbghv kdserial)
target_include_directories(hprdbghv PRIVATE
    hyperdbg/hprdbghv/header
    hyperdbg/hprdbghv
    hyperdbg/dependencies
    hyperdbg/include
    "C:/Program Files (x86)/Windows Kits/10/Include/10.0.22621.0/km"
    "C:/Program Files (x86)/Windows Kits/10/Include/10.0.22621.0/km/crt"
    "C:/Program Files (x86)/Windows Kits/10/Include/wdf/kmdf/1.11"
    hyperdbg/kdserial
)
target_include_directories(hprdbghv INTERFACE
    hyperdbg/hprdbghv/header
    hyperdbg/hprdbghv
    hyperdbg/dependencies
    hyperdbg/include
)
target_compile_definitions(hprdbghv PRIVATE
    MANIFEST=NO
    MAP
    FAcs
    _WIN32_WINNT=0x0A00
    WINVER=0x0A00
    NTDDI_VERSION=0x0A000000
    _NT_TARGET_VERSION=0x0A00
    _WIN64
    _AMD64_
    AMD64
    KMDF_VERSION_MAJOR=1
    KMDF_VERSION_MINOR=11
    KMDF_USING_NTSTATUS
    WIN32_LEAN_AND_MEAN=1
    WINNT=1
    _WINDLL
)
target_compile_options(hprdbghv PRIVATE
    $<$<COMPILE_LANGUAGE:C>:-kernel>
    $<$<COMPILE_LANGUAGE:CXX>:-kernel>
)
if(MSVC)
    target_compile_options(hprdbghv PRIVATE $<$<CONFIG:Debug>:-Od>)
else()
    target_compile_options(hprdbghv PRIVATE -O0)
endif()
if(MSVC)
    target_compile_options(hprdbghv PRIVATE -Zi)
else()
    target_compile_options(hprdbghv PRIVATE -g)
endif()
if(MSVC)
    set_property(TARGET hprdbghv PROPERTY
        MSVC_RUNTIME_LIBRARY "MultiThreaded$<$<CONFIG:Debug>:Debug>")
endif()
target_link_libraries(hprdbghv PRIVATE
    BufferOverflowK
    ntoskrnl
    hal
    wmilib
    WdfLdr
    ntstrsafe
    wdmsec
    WdfDriverEntry
    kdserial
)
target_link_directories(hprdbghv PRIVATE
    "C:/Program Files (x86)/Windows Kits/10/Lib/10.0.22621.0/km/x64"
    "C:/Program Files (x86)/Windows Kits/10/Lib/wdf/kmdf/x64/1.11"
    build/windows/x64/debug
)
target_link_options(hprdbghv PRIVATE
    -kernel
    -driver
)
target_sources(hprdbghv PRIVATE
    hyperdbg/hprdbghv/code/assembly/AsmCommon.asm
    hyperdbg/hprdbghv/code/assembly/AsmDebugger.asm
    hyperdbg/hprdbghv/code/assembly/AsmEpt.asm
    hyperdbg/hprdbghv/code/assembly/AsmKernelSideTests.asm
    hyperdbg/hprdbghv/code/assembly/AsmSegmentRegs.asm
    hyperdbg/hprdbghv/code/assembly/AsmVmexitHandler.asm
    hyperdbg/hprdbghv/code/assembly/AsmVmxContextState.asm
    hyperdbg/hprdbghv/code/assembly/AsmVmxOperation.asm
    hyperdbg/hprdbghv/code/common/Common.c
    hyperdbg/hprdbghv/code/common/Logging.c
    hyperdbg/hprdbghv/code/common/Spinlock.c
    hyperdbg/hprdbghv/code/components/registers/DebugRegisters.c
    hyperdbg/hprdbghv/code/debugger/broadcast/Broadcast.c
    hyperdbg/hprdbghv/code/debugger/broadcast/DpcRoutines.c
    hyperdbg/hprdbghv/code/debugger/commands/BreakpointCommands.c
    hyperdbg/hprdbghv/code/debugger/commands/Callstack.c
    hyperdbg/hprdbghv/code/debugger/commands/DebuggerCommands.c
    hyperdbg/hprdbghv/code/debugger/commands/ExtensionCommands.c
    hyperdbg/hprdbghv/code/debugger/communication/SerialConnection.c
    hyperdbg/hprdbghv/code/debugger/core/Debugger.c
    hyperdbg/hprdbghv/code/debugger/core/DebuggerEvents.c
    hyperdbg/hprdbghv/code/debugger/core/Termination.c
    hyperdbg/hprdbghv/code/debugger/features/hooks/ept-hook/EptHook.c
    hyperdbg/hprdbghv/code/debugger/features/hooks/syscall-hook/EferHook.c
    hyperdbg/hprdbghv/code/debugger/features/hooks/syscall-hook/SsdtHook.c
    hyperdbg/hprdbghv/code/debugger/kernel-level/Kd.c
    hyperdbg/hprdbghv/code/debugger/objects/Process.c
    hyperdbg/hprdbghv/code/debugger/objects/Thread.c
    hyperdbg/hprdbghv/code/debugger/script-engine/ScriptEngine.c
    hyperdbg/hprdbghv/code/debugger/tests/KernelTests.c
    hyperdbg/hprdbghv/code/debugger/transparency/Transparency.c
    hyperdbg/hprdbghv/code/debugger/user-level/Attaching.c
    hyperdbg/hprdbghv/code/debugger/user-level/ThreadHolder.c
    hyperdbg/hprdbghv/code/debugger/user-level/Ud.c
    hyperdbg/hprdbghv/code/debugger/user-level/UserAccess.c
    hyperdbg/hprdbghv/code/devices/Apic.c
    hyperdbg/hprdbghv/code/driver/Driver.c
    hyperdbg/hprdbghv/code/driver/Ioctl.c
    hyperdbg/hprdbghv/code/globals/GlobalVariableManagement.c
    hyperdbg/hprdbghv/code/memory/MemoryManager.c
    hyperdbg/hprdbghv/code/memory/MemoryMapper.c
    hyperdbg/hprdbghv/code/memory/PoolManager.c
    hyperdbg/hprdbghv/code/platform/CrossApi.c
    hyperdbg/hprdbghv/code/vmm/ept/Ept.c
    hyperdbg/hprdbghv/code/vmm/ept/Invept.c
    hyperdbg/hprdbghv/code/vmm/ept/Vpid.c
    hyperdbg/hprdbghv/code/vmm/vmx/Counters.c
    hyperdbg/hprdbghv/code/vmm/vmx/CrossVmexits.c
    hyperdbg/hprdbghv/code/vmm/vmx/Events.c
    hyperdbg/hprdbghv/code/vmm/vmx/Hv.c
    hyperdbg/hprdbghv/code/vmm/vmx/IdtEmulation.c
    hyperdbg/hprdbghv/code/vmm/vmx/IoHandler.c
    hyperdbg/hprdbghv/code/vmm/vmx/ManageRegs.c
    hyperdbg/hprdbghv/code/vmm/vmx/MsrHandlers.c
    hyperdbg/hprdbghv/code/vmm/vmx/Mtf.c
    hyperdbg/hprdbghv/code/vmm/vmx/ProtectedHv.c
    hyperdbg/hprdbghv/code/vmm/vmx/Vmcall.c
    hyperdbg/hprdbghv/code/vmm/vmx/Vmexit.c
    hyperdbg/hprdbghv/code/vmm/vmx/Vmx.c
    hyperdbg/hprdbghv/code/vmm/vmx/VmxBroadcast.c
    hyperdbg/hprdbghv/code/vmm/vmx/VmxMechanisms.c
    hyperdbg/hprdbghv/code/vmm/vmx/VmxRegions.c
    hyperdbg/hprdbghv/header/common/Common.h
    hyperdbg/hprdbghv/header/common/Dpc.h
    hyperdbg/hprdbghv/header/common/LengthDisassemblerEngine.h
    hyperdbg/hprdbghv/header/common/Logging.h
    hyperdbg/hprdbghv/header/common/Msr.h
    hyperdbg/hprdbghv/header/common/Trace.h
    hyperdbg/hprdbghv/header/components/registers/DebugRegisters.h
    hyperdbg/hprdbghv/header/debugger/broadcast/Broadcast.h
    hyperdbg/hprdbghv/header/debugger/broadcast/DpcRoutines.h
    hyperdbg/hprdbghv/header/debugger/commands/BreakpointCommands.h
    hyperdbg/hprdbghv/header/debugger/commands/Callstack.h
    hyperdbg/hprdbghv/header/debugger/commands/DebuggerCommands.h
    hyperdbg/hprdbghv/header/debugger/commands/ExtensionCommands.h
    hyperdbg/hprdbghv/header/debugger/communication/SerialConnection.h
    hyperdbg/hprdbghv/header/debugger/core/Debugger.h
    hyperdbg/hprdbghv/header/debugger/core/DebuggerEvents.h
    hyperdbg/hprdbghv/header/debugger/core/Termination.h
    hyperdbg/hprdbghv/header/debugger/features/Hooks.h
    hyperdbg/hprdbghv/header/debugger/kernel-level/Kd.h
    hyperdbg/hprdbghv/header/debugger/objects/Process.h
    hyperdbg/hprdbghv/header/debugger/objects/Thread.h
    hyperdbg/hprdbghv/header/debugger/script-engine/ScriptEngine.h
    hyperdbg/hprdbghv/header/debugger/tests/KernelTests.h
    hyperdbg/hprdbghv/header/debugger/transparency/Transparency.h
    hyperdbg/hprdbghv/header/debugger/user-level/Attaching.h
    hyperdbg/hprdbghv/header/debugger/user-level/ThreadHolder.h
    hyperdbg/hprdbghv/header/debugger/user-level/Ud.h
    hyperdbg/hprdbghv/header/debugger/user-level/UserAccess.h
    hyperdbg/hprdbghv/header/devices/Apic.h
    hyperdbg/hprdbghv/header/globals/GlobalVariableManagement.h
    hyperdbg/hprdbghv/header/globals/GlobalVariables.h
    hyperdbg/hprdbghv/header/memory/MemoryMapper.h
    hyperdbg/hprdbghv/header/memory/PoolManager.h
    hyperdbg/hprdbghv/header/misc/InlineAsm.h
    hyperdbg/hprdbghv/header/platform/CrossApi.h
    hyperdbg/hprdbghv/header/platform/Environment.h
    hyperdbg/hprdbghv/header/platform/MetaMacros.h
    hyperdbg/hprdbghv/header/vmm/ept/Ept.h
    hyperdbg/hprdbghv/header/vmm/ept/Invept.h
    hyperdbg/hprdbghv/header/vmm/ept/Vpid.h
    hyperdbg/hprdbghv/header/vmm/vmx/Counters.h
    hyperdbg/hprdbghv/header/vmm/vmx/Events.h
    hyperdbg/hprdbghv/header/vmm/vmx/Hv.h
    hyperdbg/hprdbghv/header/vmm/vmx/IdtEmulation.h
    hyperdbg/hprdbghv/header/vmm/vmx/IoHandler.h
    hyperdbg/hprdbghv/header/vmm/vmx/ManageRegs.h
    hyperdbg/hprdbghv/header/vmm/vmx/MsrHandlers.h
    hyperdbg/hprdbghv/header/vmm/vmx/Mtf.h
    hyperdbg/hprdbghv/header/vmm/vmx/ProtectedHv.h
    hyperdbg/hprdbghv/header/vmm/vmx/Vmcall.h
    hyperdbg/hprdbghv/header/vmm/vmx/Vmx.h
    hyperdbg/hprdbghv/header/vmm/vmx/VmxBroadcast.h
    hyperdbg/hprdbghv/header/vmm/vmx/VmxMechanisms.h
)

# target
add_library(kdserial STATIC "")
set_target_properties(kdserial PROPERTIES OUTPUT_NAME "kdserial")
set_target_properties(kdserial PROPERTIES ARCHIVE_OUTPUT_DIRECTORY "${CMAKE_SOURCE_DIR}/build/windows/x64/debug")
target_include_directories(kdserial PRIVATE
    hyperdbg/kdserial
    "C:/Program Files (x86)/Windows Kits/10/Include/10.0.22621.0/km"
    "C:/Program Files (x86)/Windows Kits/10/Include/wdf/kmdf/1.11"
)
target_include_directories(kdserial INTERFACE
    hyperdbg/kdserial
)
target_compile_definitions(kdserial PRIVATE
    MANIFEST=NO
    MAP
    FAcs
    _WIN32_WINNT=0x0A00
    WINVER=0x0A00
    NTDDI_VERSION=0x0A000000
    _NT_TARGET_VERSION=0x0A00
    _WIN64
    _AMD64_
    AMD64
    KMDF_VERSION_MAJOR=1
    KMDF_VERSION_MINOR=11
    KMDF_USING_NTSTATUS
    WIN32_LEAN_AND_MEAN=1
    WINNT=1
    _WINDLL
)
target_compile_options(kdserial PRIVATE
    $<$<COMPILE_LANGUAGE:C>:-kernel>
    $<$<COMPILE_LANGUAGE:CXX>:-kernel>
)
if(MSVC)
    target_compile_options(kdserial PRIVATE $<$<CONFIG:Debug>:-Od>)
else()
    target_compile_options(kdserial PRIVATE -O0)
endif()
if(MSVC)
    target_compile_options(kdserial PRIVATE -Zi)
else()
    target_compile_options(kdserial PRIVATE -g)
endif()
if(MSVC)
    set_property(TARGET kdserial PROPERTY
        MSVC_RUNTIME_LIBRARY "MultiThreaded$<$<CONFIG:Debug>:Debug>")
endif()
target_link_directories(kdserial PRIVATE
    "C:/Program Files (x86)/Windows Kits/10/Lib/10.0.22621.0/km/x64"
    "C:/Program Files (x86)/Windows Kits/10/Lib/wdf/kmdf/x64/1.11"
)
target_sources(kdserial PRIVATE
    hyperdbg/kdserial/apm88xxxx.c
    hyperdbg/kdserial/bcm2835.c
    hyperdbg/kdserial/common.c
    hyperdbg/kdserial/hardware.c
    hyperdbg/kdserial/ioaccess.c
    hyperdbg/kdserial/msm8974.c
    hyperdbg/kdserial/msm8x60.c
    hyperdbg/kdserial/mx6uart.c
    hyperdbg/kdserial/nvidia.c
    hyperdbg/kdserial/omap.c
    hyperdbg/kdserial/pl011.c
    hyperdbg/kdserial/sam5250.c
    hyperdbg/kdserial/sdm845.c
    hyperdbg/kdserial/spimax311.c
    hyperdbg/kdserial/uart16550.c
    hyperdbg/kdserial/uartio.c
    hyperdbg/kdserial/usif.c
    hyperdbg/kdserial/common.h
    hyperdbg/kdserial/kdcom.h
    hyperdbg/kdserial/uartp.h
    hyperdbg/kdserial/win11sdk.h
)

